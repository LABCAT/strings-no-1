{"version":3,"sources":["js/PlayIcon.js","js/globals.js","audio/strings-no-1.mp3","js/P5Sketch.js","js/App.js","index.js"],"names":["PlayIcon","id","xmlns","height","viewBox","width","d","fill","Component","window","p5","P5Sketch","Sketch","canvas","canvasWidth","innerWidth","canvasHeight","innerHeight","song","creditsLogged","tempo","melodyIndex","melodyArray","nextSemiQuaver","semiQuaversArray","numOfStringLoops","nx","random","ny","nz","h","ox","oy","setup","loadSound","audio","colorMode","HSB","createCanvas","background","strokeWeight","noFill","draw","currentBar","getSongBar","blendMode","SCREEN","_lastPos","isPlaying","addClass","removeClass","console","log","playStrings","length","stroke","beginShape","numOfLoops","i","x","map","noise","y","curveVertex","endShape","reset","clear","stop","play","buffer","barAsBufferLength","sampleRate","Math","floor","mousePressed","pause","document","getElementById","classList","add","updateCanvasDimensions","redraw","attachEvent","addEventListener","getSong","useEffect","App","ReactDOM","render","StrictMode"],"mappings":"8NAeeA,E,uKATP,OACI,sBAAKC,GAAG,YAAYC,MAAM,6BAA6BC,OAAO,KAAKC,QAAQ,YAAYC,MAAM,KAA7F,UACI,sBAAMC,EAAE,gBAAgBC,KAAK,SAC7B,sBAAMD,EAAE,+J,GAPDE,a,OCDvBC,OAAOC,GAAKA,E,UCDG,MAA0B,yCCoM1BC,EA5LE,WAEb,IAAMC,EAAS,SAAAF,GAEXA,EAAGG,OAAS,KACZH,EAAGI,YAAcL,OAAOM,WACxBL,EAAGM,aAAeP,OAAOQ,YAEzBP,EAAGQ,KAAO,KACVR,EAAGS,eAAgB,EACnBT,EAAGU,MAAQ,IAEXV,EAAGW,YAAc,EACjBX,EAAGY,YAAc,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GACtDZ,EAAGa,eAAiB,EACpBb,EAAGc,iBAAmB,GAEtBd,EAAGe,iBAAmB,IACtBf,EAAGgB,GAAKhB,EAAGiB,OAAO,KAClBjB,EAAGkB,GAAKlB,EAAGiB,OAAO,KAClBjB,EAAGmB,GAAK,EACRnB,EAAGoB,EAAIpB,EAAGiB,OAAO,KACjBjB,EAAGqB,GAAKrB,EAAGiB,OAAOjB,EAAGI,aACrBJ,EAAGsB,GAAKtB,EAAGiB,OAAOjB,EAAGM,cAKrBN,EAAGuB,MAAQ,WACPvB,EAAGQ,KAAOR,EAAGwB,UAAUC,GACvBzB,EAAG0B,UAAU1B,EAAG2B,IAAK,IAAK,IAAK,IAAK,KACpC3B,EAAGG,OAASH,EAAG4B,aAAa5B,EAAGI,YAAaJ,EAAGM,cAC/CN,EAAG6B,WAAW,GACd7B,EAAG8B,aAAa,IAChB9B,EAAG+B,UAGP/B,EAAGgC,KAAO,WACN,IAAIC,EAAajC,EAAGkC,aAEpBlC,EAAGmC,UAAUnC,EAAGoC,QAEZpC,EAAGQ,KAAK6B,SAAW,GAAKJ,GAAc,GAAKjC,EAAGQ,KAAK8B,cAE/CL,EAAa,KACbA,EAAa,IACbjC,EAAGG,OAAOoC,SAAS,YACnBvC,EAAGG,OAAOqC,YAAY,WAEjBxC,EAAGS,gBACJT,EAAGS,eAAgB,EACnBgC,QAAQC,IAAI,uCACZD,QAAQC,IAAI,2CACZD,QAAQC,IAAI,qEAIhB1C,EAAGG,OAAOoC,SAAS,WACnBvC,EAAGG,OAAOqC,YAAY,aAE1BxC,EAAG2C,cACCV,IAAejC,EAAGa,iBAClBb,EAAGW,cACCX,EAAGW,cAAgBX,EAAGY,YAAYgC,SAClC5C,EAAGW,YAAc,GAErBX,EAAGa,eAAiBb,EAAGa,eAAiBb,EAAGY,YAAYZ,EAAGW,aAC1DX,EAAGe,iBAAmBf,EAAGe,iBAAmB,GAC5Cf,EAAGmB,GAAK,EACRnB,EAAGgB,GAAKhB,EAAGiB,OAAO,KAClBjB,EAAGkB,GAAKlB,EAAGiB,OAAO,KAClBjB,EAAGqB,GAAKrB,EAAGiB,OAAOjB,EAAGI,aACrBJ,EAAGsB,GAAKtB,EAAGiB,OAAOjB,EAAGM,cACrBN,EAAGoB,EAAIpB,EAAGiB,OAAO,KACjBjB,EAAGoB,OAOfpB,EAAG2C,YAAc,WACb3C,EAAG6C,OAAO7C,EAAGoB,EAAI,IAAK,IAAK,IAAK,IAEhCpB,EAAG8C,aAGH,IAFA,IAAMC,EAAa/C,EAAGe,iBAEbiC,EAAI,EAAGA,EAAID,EAAYC,IAAK,CACjC,IAAIC,EAAIjD,EAAGkD,IAAIlD,EAAGmD,MAAU,IAAJH,EAAUhD,EAAGgB,GAAIhB,EAAGmB,IAAK,EAAG,EAAGnB,EAAGqB,GAAK0B,EAAY/C,EAAGqB,GAAK0B,GAC/EK,EAAIpD,EAAGkD,IAAIlD,EAAGmD,MAAU,IAAJH,EAAUhD,EAAGkB,GAAIlB,EAAGmB,IAAK,EAAG,EAAGnB,EAAGsB,GAAKyB,EAAY/C,EAAGsB,GAAKyB,GACnF/C,EAAGqD,YAAYJ,EAAGG,GAGtBpD,EAAGsD,WAEHtD,EAAGmB,IAAM,MAGbnB,EAAGuD,MAAQ,WAEPvD,EAAGa,eAAiB,EACpBb,EAAGW,YAAc,EACjBX,EAAGe,iBAAmB,IACtBf,EAAGgB,GAAKhB,EAAGiB,OAAO,KAClBjB,EAAGkB,GAAKlB,EAAGiB,OAAO,KAClBjB,EAAGmB,GAAK,EACRnB,EAAGoB,EAAIpB,EAAGiB,OAAO,KACjBjB,EAAGqB,GAAKrB,EAAGiB,OAAOjB,EAAGI,aACrBJ,EAAGsB,GAAKtB,EAAGiB,OAAOjB,EAAGM,cAErBN,EAAGwD,QACHxD,EAAG6B,WAAW,GAEd7B,EAAGQ,KAAKiD,OACRzD,EAAGQ,KAAKkD,QAGZ1D,EAAGkC,WAAa,WACZ,GAAIlC,EAAGQ,MAAQR,EAAGQ,KAAKmD,OAAO,CAC1B,IACMC,EAAiD,GAA5B5D,EAAGQ,KAAKmD,OAAOE,WAAkB7D,EAAGU,MAD5C,GAEnB,OAAOoD,KAAKC,MAAM/D,EAAGQ,KAAK6B,SAAWuB,GAEzC,OAAQ,GAIZ5D,EAAGgE,aAAe,WACVhE,EAAGQ,KAAK8B,YACRtC,EAAGQ,KAAKyD,SAERC,SAASC,eAAe,aAAaC,UAAUC,IAAI,YAC/CrE,EAAGkC,aAAe,IAClBlC,EAAGuD,QAGHvD,EAAGQ,KAAKkD,SAKpB1D,EAAGsE,uBAAyB,WACxBtE,EAAGI,YAAcL,OAAOM,WACxBL,EAAGM,aAAeP,OAAOQ,YACzBP,EAAG4B,aAAa5B,EAAGI,YAAaJ,EAAGM,cACnCN,EAAGuE,UAGHxE,OAAOyE,YACPzE,OAAOyE,YACH,YACA,WACIxE,EAAGsE,4BAINvE,OAAO0E,kBACZ1E,OAAO0E,iBACH,UACA,WACIzE,EAAGsE,4BAEP,GAORtE,EAAG0E,QAAU,WACT,OAAO1E,EAAGQ,OAWlB,OANAmE,qBAAU,WACN,IAAI3E,EAAGE,KAER,IAIC,mCACI,cAAC,EAAD,OCvLG0E,MANf,WACE,OACE,cAAC,EAAD,KCCJC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFb,SAASC,eAAe,W","file":"static/js/main.431adab9.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\nclass PlayIcon extends Component {\n\n    render() {\n\n        return (\n            <svg id=\"play-icon\" xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\">\n                <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n                <path d=\"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"/>\n            </svg>\n        )\n    }\n}\n\nexport default PlayIcon;\n","import * as p5 from \"p5\";\nwindow.p5 = p5;","export default __webpack_public_path__ + \"static/media/strings-no-1.2ba22d66.mp3\";","import React, { useEffect } from \"react\";\nimport PlayIcon from './PlayIcon.js';\nimport './globals';\nimport \"p5/lib/addons/p5.sound\";\nimport * as p5 from \"p5\";\nimport audio from '../audio/strings-no-1.mp3'\n\n\nconst P5Sketch = () => {\n\n    const Sketch = p5 => {\n\n        p5.canvas = null;\n        p5.canvasWidth = window.innerWidth;\n        p5.canvasHeight = window.innerHeight;\n        \n        p5.song = null;\n        p5.creditsLogged = false;\n        p5.tempo = 106;\n\n        p5.melodyIndex = 0;\n        p5.melodyArray = [5,3,4,4,5,3,4,4,5,3,4,2,2,3,1,3,1,3,1];\n        p5.nextSemiQuaver = 5;\n        p5.semiQuaversArray = [];\n\n        p5.numOfStringLoops = 300;\n        p5.nx = p5.random(100);\n        p5.ny = p5.random(100);\n        p5.nz = 0;\n        p5.h = p5.random(360);\n        p5.ox = p5.random(p5.canvasWidth);\n        p5.oy = p5.random(p5.canvasHeight);\n        \n        \n\n\n        p5.setup = () => {\n            p5.song = p5.loadSound(audio);\n            p5.colorMode(p5.HSB, 360, 100, 100, 100);\n            p5.canvas = p5.createCanvas(p5.canvasWidth, p5.canvasHeight); \n            p5.background(0);\n            p5.strokeWeight(0.1);\n            p5.noFill();\n        };\n\n        p5.draw = () => {\n            let currentBar = p5.getSongBar();\n            \n            p5.blendMode(p5.SCREEN);\n\n            if (p5.song._lastPos > 0 && currentBar >= 0 && p5.song.isPlaying()) {\n\n                if (currentBar > 209) {\n                    currentBar = 209;\n                    p5.canvas.addClass('fade-out');\n                    p5.canvas.removeClass('fade-in');\n\n                    if (!p5.creditsLogged){\n                        p5.creditsLogged = true;\n                        console.log('Music By: https://github.com/LABCAT');\n                        console.log('Animation By: https://github.com/LABCAT');\n                        console.log('Code Inspiration: https://www.openprocessing.org/sketch/988880');\n                    }\n                }\n                else {\n                    p5.canvas.addClass('fade-in');  \n                    p5.canvas.removeClass('fade-out');\n                }\n                p5.playStrings();\n                if (currentBar === p5.nextSemiQuaver) {\n                    p5.melodyIndex++;\n                    if (p5.melodyIndex === p5.melodyArray.length){\n                        p5.melodyIndex = 0;\n                    }\n                    p5.nextSemiQuaver = p5.nextSemiQuaver + p5.melodyArray[p5.melodyIndex]; \n                    p5.numOfStringLoops = p5.numOfStringLoops + 10;\n                    p5.nz = 0;\n                    p5.nx = p5.random(100);\n                    p5.ny = p5.random(100);\n                    p5.ox = p5.random(p5.canvasWidth);\n                    p5.oy = p5.random(p5.canvasHeight);\n                    p5.h = p5.random(360);\n                    p5.h++;\n                }\n                \n            }\n            \n        };\n\n        p5.playStrings = () => {\n            p5.stroke(p5.h % 360, 100, 100, 50);\n\n            p5.beginShape();\n            const numOfLoops = p5.numOfStringLoops;\n            \n            for (let i = 0; i < numOfLoops; i++) {\n                let x = p5.map(p5.noise(i * 0.01, p5.nx, p5.nz), 0, 1, p5.ox - numOfLoops, p5.ox + numOfLoops);\n                let y = p5.map(p5.noise(i * 0.01, p5.ny, p5.nz), 0, 1, p5.oy - numOfLoops, p5.oy + numOfLoops);\n                p5.curveVertex(x, y);\n            }\n\n            p5.endShape();\n\n            p5.nz += 0.005;\n        }\n\n        p5.reset = () => {\n            //variables\n            p5.nextSemiQuaver = 5;\n            p5.melodyIndex = 0;\n            p5.numOfStringLoops = 300;\n            p5.nx = p5.random(100);\n            p5.ny = p5.random(100);\n            p5.nz = 0;\n            p5.h = p5.random(360);\n            p5.ox = p5.random(p5.canvasWidth);\n            p5.oy = p5.random(p5.canvasHeight);\n            //reset canvas to initial state\n            p5.clear();\n            p5.background(0);\n            //play song again\n            p5.song.stop();\n            p5.song.play();\n        }\n\n        p5.getSongBar = () => {\n            if (p5.song && p5.song.buffer){\n                const beatPerBar = 0.5;\n                const barAsBufferLength = (p5.song.buffer.sampleRate * 60 / p5.tempo) * beatPerBar;\n                return Math.floor(p5.song._lastPos / barAsBufferLength);\n            }\n            return -1;\n        }\n\n\n        p5.mousePressed = () => {\n            if (p5.song.isPlaying()) {\n                p5.song.pause();\n            } else {\n                document.getElementById(\"play-icon\").classList.add(\"fade-out\");\n                if (p5.getSongBar() > 210){\n                    p5.reset();\n                }\n                else {\n                    p5.song.play();\n                }\n            }\n        };\n\n        p5.updateCanvasDimensions = () => {\n            p5.canvasWidth = window.innerWidth;\n            p5.canvasHeight = window.innerHeight;\n            p5.createCanvas(p5.canvasWidth, p5.canvasHeight);\n            p5.redraw();\n        }\n\n        if (window.attachEvent) {\n            window.attachEvent(\n                'onresize',\n                function () {\n                    p5.updateCanvasDimensions();\n                }\n            );\n        }\n        else if (window.addEventListener) {\n            window.addEventListener(\n                'resize',\n                function () {\n                    p5.updateCanvasDimensions();\n                },\n                true\n            );\n        }\n        else {\n            //The browser does not support Javascript event binding\n        }\n\n        p5.getSong = () => {\n            return p5.song;\n        }\n    };\n\n\n    useEffect(() => {\n        new p5(Sketch);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n\n    return (\n        <>\n            <PlayIcon />\n        </>\n    );\n};\n\nexport default P5Sketch;\n","import P5Sketch from './P5Sketch'\n\nfunction App() {\n  return (\n    <P5Sketch/>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/build.css';\nimport App from './js/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}